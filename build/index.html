<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="viewport"
              content="initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width">
        <title></title>
        <link rel="stylesheet" type="text/css" href="./../build/bundle.css">

        <!--<script src="https://unpkg.com/flickity@2.0/dist/flickity.pkgd.min.js"></script>-->

    </head>
    <body>

        <!-- Rainy effect applies on this div -->
        <div class="gift-screen-background">
            <!-- Loading spinner -->
            <div id="spinner" class="spinner animate">
                <div class="rect1"></div>
                <div class="rect2"></div>
                <div class="rect3"></div>
                <div class="rect4"></div>
                <div class="rect5"></div>
            </div>
        </div>

        <!-- Slider main container -->
        <div class="swiper-container">
            <div class="swiper-wrapper">
                <!--<div class="swiper-slide"></div>-->
            </div>
        </div>

        <button class="button-success pure-button hidden">

            <!-- Had to do this, luckily not in production yet :) -->

            <!-- SVG AUTHOR -->
            <!--<div>Icons made by <a href="http://www.freepik.com" title="Freepik">Freepik</a> from <a href="http://www.flaticon.com" title="Flaticon">www.flaticon.com</a> is licensed by <a href="http://creativecommons.org/licenses/by/3.0/" title="Creative Commons BY 3.0" target="_blank">CC 3.0 BY</a></div>-->
            <img src="data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTYuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjEyOHB4IiBoZWlnaHQ9IjEyOHB4IiB2aWV3Qm94PSIwIDAgMzUuNjc2IDM1LjY3NiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMzUuNjc2IDM1LjY3NjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8Zz4KCTxwYXRoIGQ9Ik0zMi4yOTUsMjYuMjAyYy0wLjA5NiwwLjI3MS0wLjE4OSwwLjU2Mi0wLjI5NiwwLjg0OGMtMC44ODYsMi4zOTktMi4yMzEsNC41MjktMy44NjMsNi40ODEgICBjLTAuMzE1LDAuMzgtMC42ODIsMC43MjQtMS4wNjEsMS4wNDNjLTAuNzQ5LDAuNjM0LTEuNjExLDEuMDE3LTIuNjA4LDEuMDUyYy0wLjc0OSwwLjAyNC0xLjQ2OC0wLjExMi0yLjE2MS0wLjM5NCAgIGMtMC41MDItMC4yMDUtMC45OTYtMC40MzQtMS41MDUtMC42MTljLTEuNjUyLTAuNi0zLjI5NS0wLjUyMS00LjkyLDAuMTIxYy0wLjU4NiwwLjIzMi0xLjE2NCwwLjQ4OC0xLjc2MSwwLjY4OSAgIGMtMC42OTIsMC4yMzItMS40MSwwLjMyNi0yLjE0MSwwLjE4OGMtMC42MzgtMC4xMTktMS4xOTYtMC40MTYtMS43MTQtMC43OTljLTAuNjQzLTAuNDc2LTEuMTgzLTEuMDU2LTEuNjg4LTEuNjcgICBjLTIuMzkxLTIuOTE2LTMuOTk2LTYuMjEzLTQuNzcxLTkuOTA2Yy0wLjMzNC0xLjU4OC0wLjQ5NC0zLjE4OS0wLjM5Ni00LjgxMmMwLjExNS0xLjk0NiwwLjU2Ny0zLjc5OSwxLjYwNy01LjQ2OSAgIGMxLjMwNS0yLjA5OSwzLjE0Ni0zLjQ3NCw1LjU2OC00LjA0MWMxLjQ1Ny0wLjM0MywyLjg3NC0wLjIwMyw0LjI2MywwLjMzMmMwLjczMSwwLjI4LDEuNDY0LDAuNTU3LDIuMTk4LDAuODMyICAgYzAuNjc2LDAuMjU0LDEuMzQ5LDAuMjU0LDIuMDI2LTAuMDA1YzAuNzQ5LTAuMjg2LDEuNDk5LTAuNTcxLDIuMjUxLTAuODVjMC43NzEtMC4yODEsMS41NTUtMC41MTEsMi4zNzMtMC41NzYgICBjMS4yMjQtMC4wOTksMi40MTgsMC4wNiwzLjU4LDAuNDQ5YzEuNjQ3LDAuNTUxLDIuOTg3LDEuNTI2LDMuOTk5LDIuOTQ2YzAuMDI3LDAuMDM5LDAuMDU3LDAuMDgyLDAuMDc3LDAuMTEzICAgYy0yLjU1MiwxLjc3OS00LjAwNSw0LjEyOS0zLjc5NCw3LjMxMUMyNy43NzEsMjIuNjUsMjkuNDg1LDI0LjgwNCwzMi4yOTUsMjYuMjAyeiBNMTcuOTgsOC4yNTMgICBjMC43NTMsMC4wMiwxLjQ3Ny0wLjEyNSwyLjE3NC0wLjQwMmMzLjE3OS0xLjI2Miw0Ljg0MS00LjYyNSw0Ljc5MS03LjE5N0MyNC45NDEsMC40NDcsMjQuOTI3LDAuMjQsMjQuOTE4LDAgICBjLTAuMzI3LDAuMDQ5LTAuNjI1LDAuMDcyLTAuOTExLDAuMTQ0Yy0yLjMyMSwwLjU2OS00LjEwNywxLjg2NC01LjI4MSwzLjk2MWMtMC42ODcsMS4yMjgtMS4wNjksMi41MzItMC45NTIsMy45NTcgICBDMTcuNzgyLDguMjEzLDE3LjgzNyw4LjI1MSwxNy45OCw4LjI1M3oiIGZpbGw9IiNGRkZGRkYiLz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8L3N2Zz4K"/>
            <span>Download on the <br>App Store</span>
        </button>

        <script>
            var id = '1153929426';
            //            var id = '1091131962';  // Girl X Batlle
            //            var id = '625257520';  // Hearstone
            //            var id = '598581396'; // Kingdom rush ?

            /*
             *
             *   Store promise in global scope for simplicity
             *
             * */
            window.iTunesRequestPromise = new Promise(function (resolve, reject) {
                var scripts = [
                    './build/bundle.js',
                    'https://itunes.apple.com/lookup?id=' + id + '&callback=iTunesHandler',
                ];

                var loadScript = function _loadScript(url) {
                    return new Promise(function (resolve, reject) {

                        var script = document.createElement('script');
                        script.src = url;

                        script.onload = script.onreadystatechange = resolve;

                        script.error = function () {
                            /* TODO: Recover */
                            reject();
                        };

                        document.body.appendChild(script);
                    })
                };

                /*
                 *   Load all scripts dynamically to improve loading speed
                 * */
                var promises = [];

                for (var i = 0; i < scripts.length; i++) {
                    var script = scripts[i];
                    promises.push(loadScript(script));
                }

                Promise.all(promises).then(resolve, reject);
            });

            /*
             *
             *   Callback handler for iTunes JSONP request.
             *
             * */
            window.iTunesHandler = function (res) {
                if (res.hasOwnProperty('resultCount') && res.resultCount === 1) {
                    window.iTunesData = res.results[0];
                }
            };
        </script>

    </body>
</html>
